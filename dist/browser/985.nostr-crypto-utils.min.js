(this.webpackChunkNostrCryptoUtils=this.webpackChunkNostrCryptoUtils||[]).push([[985],{3225:(e,r,t)=>{"use strict";var n=t(5606);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,t,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,l=arguments.length;switch(l){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,r)}));case 3:return n.nextTick((function(){e.call(null,r,t)}));case 4:return n.nextTick((function(){e.call(null,r,t,i)}));default:for(o=new Array(l-1),s=0;s<o.length;)o[s++]=arguments[s];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},5606:e=>{var r,t,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{t="function"==typeof clearTimeout?clearTimeout:o}catch(e){t=o}}();var l,a=[],u=!1,c=-1;function f(){u&&l&&(u=!1,l.length?a=l.concat(a):c=-1,a.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var r=a.length;r;){for(l=a,a=[];++c<r;)l&&l[c].run();c=-1,r=a.length}l=null,u=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===o||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{return t(e)}catch(r){try{return t.call(null,e)}catch(r){return t.call(this,e)}}}(e)}}function p(e,r){this.fun=e,this.array=r}function g(){}n.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];a.push(new p(e,r)),1!==a.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},7168:(e,r,t)=>{r.publicEncrypt=t(8902),r.privateDecrypt=t(7362),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},8206:(e,r,t)=>{var n=t(7108),i=t(2861).Buffer;function o(e){var r=i.allocUnsafe(4);return r.writeUInt32BE(e,0),r}e.exports=function(e,r){for(var t,s=i.alloc(0),l=0;s.length<r;)t=o(l++),s=i.concat([s,n("sha1").update(e).update(t).digest()]);return s.slice(0,r)}},7362:(e,r,t)=>{var n=t(8170),i=t(8206),o=t(2061),s=t(2509),l=t(7332),a=t(7108),u=t(9247),c=t(2861).Buffer;e.exports=function(e,r,t){var f;f=e.padding?e.padding:t?1:4;var h,p=n(e),g=p.modulus.byteLength();if(r.length>g||new s(r).cmp(p.modulus)>=0)throw new Error("decryption error");h=t?u(new s(r),p):l(r,p);var d=c.alloc(g-h.length);if(h=c.concat([d,h],g),4===f)return function(e,r){var t=e.modulus.byteLength(),n=a("sha1").update(c.alloc(0)).digest(),s=n.length;if(0!==r[0])throw new Error("decryption error");var l=r.slice(1,s+1),u=r.slice(s+1),f=o(l,i(u,s)),h=o(u,i(f,t-s-1));if(function(e,r){e=c.from(e),r=c.from(r);var t=0,n=e.length;e.length!==r.length&&(t++,n=Math.min(e.length,r.length));for(var i=-1;++i<n;)t+=e[i]^r[i];return t}(n,h.slice(0,s)))throw new Error("decryption error");for(var p=s;0===h[p];)p++;if(1!==h[p++])throw new Error("decryption error");return h.slice(p)}(p,h);if(1===f)return function(e,r,t){for(var n=r.slice(0,2),i=2,o=0;0!==r[i++];)if(i>=r.length){o++;break}var s=r.slice(2,i-1);if(("0002"!==n.toString("hex")&&!t||"0001"!==n.toString("hex")&&t)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return r.slice(i)}(0,h,t);if(3===f)return h;throw new Error("unknown padding")}},8902:(e,r,t)=>{var n=t(8170),i=t(3209),o=t(7108),s=t(8206),l=t(2061),a=t(2509),u=t(9247),c=t(7332),f=t(2861).Buffer;e.exports=function(e,r,t){var h;h=e.padding?e.padding:t?1:4;var p,g=n(e);if(4===h)p=function(e,r){var t=e.modulus.byteLength(),n=r.length,u=o("sha1").update(f.alloc(0)).digest(),c=u.length,h=2*c;if(n>t-h-2)throw new Error("message too long");var p=f.alloc(t-n-h-2),g=t-c-1,d=i(c),v=l(f.concat([u,p,f.alloc(1,1),r],g),s(d,g)),b=l(d,s(v,c));return new a(f.concat([f.alloc(1),b,v],t))}(g,r);else if(1===h)p=function(e,r,t){var n,o=r.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");return n=t?f.alloc(s-o-3,255):function(e){for(var r,t=f.allocUnsafe(e),n=0,o=i(2*e),s=0;n<e;)s===o.length&&(o=i(2*e),s=0),(r=o[s++])&&(t[n++]=r);return t}(s-o-3),new a(f.concat([f.from([0,t?1:2]),n,f.alloc(1),r],s))}(g,r,t);else{if(3!==h)throw new Error("unknown padding");if((p=new a(r)).cmp(g.modulus)>=0)throw new Error("data too long for modulus")}return t?c(p,g):u(p,g)}},9247:(e,r,t)=>{var n=t(2509),i=t(2861).Buffer;e.exports=function(e,r){return i.from(e.toRed(n.mont(r.modulus)).redPow(new n(r.publicExponent)).fromRed().toArray())}},2061:e=>{e.exports=function(e,r){for(var t=e.length,n=-1;++n<t;)e[n]^=r[n];return e}},793:e=>{"use strict";function r(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,t,n){var i=n&&n.stringify||r;if("object"==typeof e&&null!==e){var o=t.length+1;if(1===o)return e;var s=new Array(o);s[0]=i(e);for(var l=1;l<o;l++)s[l]=i(t[l]);return s.join(" ")}if("string"!=typeof e)return e;var a=t.length;if(0===a)return e;for(var u="",c=0,f=-1,h=e&&e.length||0,p=0;p<h;){if(37===e.charCodeAt(p)&&p+1<h){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:case 102:if(c>=a)break;if(null==t[c])break;f<p&&(u+=e.slice(f,p)),u+=Number(t[c]),f=p+2,p++;break;case 105:if(c>=a)break;if(null==t[c])break;f<p&&(u+=e.slice(f,p)),u+=Math.floor(Number(t[c])),f=p+2,p++;break;case 79:case 111:case 106:if(c>=a)break;if(void 0===t[c])break;f<p&&(u+=e.slice(f,p));var g=typeof t[c];if("string"===g){u+="'"+t[c]+"'",f=p+2,p++;break}if("function"===g){u+=t[c].name||"<anonymous>",f=p+2,p++;break}u+=i(t[c]),f=p+2,p++;break;case 115:if(c>=a)break;f<p&&(u+=e.slice(f,p)),u+=String(t[c]),f=p+2,p++;break;case 37:f<p&&(u+=e.slice(f,p)),u+="%",f=p+2,p++,c--}++c}++p}return-1===f?e:(f<h&&(u+=e.slice(f)),u)}},3209:(e,r,t)=>{"use strict";var n=t(5606),i=65536,o=t(2861).Buffer,s={}||t.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,r){if(e>4294967295)throw new RangeError("requested too many random bytes");var t=o.allocUnsafe(e);if(e>0)if(e>i)for(var l=0;l<e;l+=i)s.getRandomValues(t.slice(l,l+i));else s.getRandomValues(t);return"function"==typeof r?n.nextTick((function(){r(null,t)})):t}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},6983:(e,r,t)=>{"use strict";var n=t(5606);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=t(2861),s=t(3209),l=o.Buffer,a=o.kMaxLength,u={}||t.g.msCrypto,c=Math.pow(2,32)-1;function f(e,r){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>c||e<0)throw new TypeError("offset must be a uint32");if(e>a||e>r)throw new RangeError("offset out of range")}function h(e,r,t){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>c||e<0)throw new TypeError("size must be a uint32");if(e+r>t||e>a)throw new RangeError("buffer too small")}function p(e,r,t,i){if(n.browser){var o=e.buffer,l=new Uint8Array(o,r,t);return u.getRandomValues(l),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return s(t).copy(e,r),e;s(t,(function(t,n){if(t)return i(t);n.copy(e,r),i(null,e)}))}u&&u.getRandomValues||!n.browser?(r.randomFill=function(e,r,n,i){if(!(l.isBuffer(e)||e instanceof t.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)i=r,r=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-r;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(r,e.length),h(n,r,e.length),p(e,r,n,i)},r.randomFillSync=function(e,r,n){if(void 0===r&&(r=0),!(l.isBuffer(e)||e instanceof t.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(r,e.length),void 0===n&&(n=e.length-r),h(n,r,e.length),p(e,r,n)}):(r.randomFill=i,r.randomFillSync=i)},6011:(e,r,t)=>{"use strict";var n=t(8287).Buffer,i=t(6698),o=t(4729),s=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(e,r){return e<<r|e>>>32-r}function d(e,r,t,n,i,o,s,l){return g(e+(r^t^n)+o+s|0,l)+i|0}function v(e,r,t,n,i,o,s,l){return g(e+(r&t|~r&n)+o+s|0,l)+i|0}function b(e,r,t,n,i,o,s,l){return g(e+((r|~t)^n)+o+s|0,l)+i|0}function m(e,r,t,n,i,o,s,l){return g(e+(r&n|t&~n)+o+s|0,l)+i|0}function w(e,r,t,n,i,o,s,l){return g(e+(r^(t|~n))+o+s|0,l)+i|0}i(p,o),p.prototype._update=function(){for(var e=s,r=0;r<16;++r)e[r]=this._block.readInt32LE(4*r);for(var t=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,p=0|this._e,y=0|this._a,_=0|this._b,E=0|this._c,k=0|this._d,T=0|this._e,x=0;x<80;x+=1){var O,z;x<16?(O=d(t,n,i,o,p,e[l[x]],f[0],u[x]),z=w(y,_,E,k,T,e[a[x]],h[0],c[x])):x<32?(O=v(t,n,i,o,p,e[l[x]],f[1],u[x]),z=m(y,_,E,k,T,e[a[x]],h[1],c[x])):x<48?(O=b(t,n,i,o,p,e[l[x]],f[2],u[x]),z=b(y,_,E,k,T,e[a[x]],h[2],c[x])):x<64?(O=m(t,n,i,o,p,e[l[x]],f[3],u[x]),z=v(y,_,E,k,T,e[a[x]],h[3],c[x])):(O=w(t,n,i,o,p,e[l[x]],f[4],u[x]),z=d(y,_,E,k,T,e[a[x]],h[4],c[x])),t=p,p=o,o=g(i,10),i=n,n=O,y=T,T=k,k=g(E,10),E=_,_=z}var L=this._b+i+k|0;this._b=this._c+o+T|0,this._c=this._d+p+y|0,this._d=this._e+t+_|0,this._e=this._a+n+E|0,this._a=L},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=p},4874:(e,r,t)=>{"use strict";const n=t(793);e.exports=f;const i=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(r){return e(self)||e(window)||e(this)||{}}}().console||{},o={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:m,wrapResponseSerializer:m,wrapErrorSerializer:m,req:b,res:b,err:d,errWithCause:d};function s(e,r){return"silent"===e?1/0:r.levels.values[e]}const l=Symbol("pino.logFuncs"),a=Symbol("pino.hierarchy"),u={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(e,r){const t={logger:r,parent:e[a]};r[a]=t}function f(e){(e=e||{}).browser=e.browser||{};const r=e.browser.transmit;if(r&&"function"!=typeof r.send)throw Error("pino: transmit option must have a send function");const t=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},o=function(e,r){return Array.isArray(e)?e.filter((function(e){return"!stdSerializers.err"!==e})):!0===e&&Object.keys(r)}(e.browser.serialize,n);let a=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(a=!1);const d=Object.keys(e.customLevels||{}),b=["error","fatal","warn","info","debug","trace"].concat(d);"function"==typeof t&&b.forEach((function(e){t[e]=t})),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const m=e.level||"info",y=Object.create(t);y.log||(y.log=w),function(e,r,t){const n={};r.forEach((e=>{n[e]=t[e]?t[e]:i[e]||i[u[e]||"log"]||w})),e[l]=n}(y,b,t),c({},y),Object.defineProperty(y,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(y,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,h(this,_,y,"error"),h(this,_,y,"fatal"),h(this,_,y,"warn"),h(this,_,y,"info"),h(this,_,y,"debug"),h(this,_,y,"trace"),d.forEach((e=>{h(this,_,y,e)}))}});const _={transmit:r,serialize:o,asObject:e.browser.asObject,formatters:e.browser.formatters,levels:b,timestamp:v(e)};return y.levels=function(e){const r=e.customLevels||{};return{values:Object.assign({},f.levels.values,r),labels:Object.assign({},f.levels.labels,function(e){const r={};return Object.keys(e).forEach((function(t){r[e[t]]=t})),r}(r))}}(e),y.level=m,y.setMaxListeners=y.getMaxListeners=y.emit=y.addListener=y.on=y.prependListener=y.once=y.prependOnceListener=y.removeListener=y.removeAllListeners=y.listeners=y.listenerCount=y.eventNames=y.write=y.flush=w,y.serializers=n,y._serialize=o,y._stdErrSerialize=a,y.child=function(t,i){if(!t)throw new Error("missing bindings for child Pino");i=i||{},o&&t.serializers&&(i.serializers=t.serializers);const s=i.serializers;if(o&&s){var l=Object.assign({},n,s),a=!0===e.browser.serialize?Object.keys(l):o;delete t.serializers,p([t],a,l,this._stdErrSerialize)}function u(e){this._childLevel=1+(0|e._childLevel),this.bindings=t,l&&(this.serializers=l,this._serialize=a),r&&(this._logEvent=g([].concat(e._logEvent.bindings,t)))}u.prototype=this;const f=new u(this);return c(this,f),f.level=this.level,f},r&&(y._logEvent=g()),y}function h(e,r,t,o){if(Object.defineProperty(e,o,{value:s(e.level,t)>s(o,t)?w:t[l][o],writable:!0,enumerable:!0,configurable:!0}),!r.transmit&&e[o]===w)return;e[o]=function(e,r,t,o){return a=e[l][o],function(){const l=r.timestamp(),u=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var f=0;f<u.length;f++)u[f]=arguments[f];if(r.serialize&&!r.asObject&&p(u,this._serialize,this.serializers,this._stdErrSerialize),r.asObject||r.formatters?a.call(c,function(e,r,t,i,o={}){const{level:s=()=>e.levels.values[r],log:l=e=>e}=o;e._serialize&&p(t,e._serialize,e.serializers,e._stdErrSerialize);const a=t.slice();let u=a[0];const c={};i&&(c.time=i),c.level=s(r,e.levels.values[r]);let f=1+(0|e._childLevel);if(f<1&&(f=1),null!==u&&"object"==typeof u){for(;f--&&"object"==typeof a[0];)Object.assign(c,a.shift());u=a.length?n(a.shift(),a):void 0}else"string"==typeof u&&(u=n(a.shift(),a));return void 0!==u&&(c.msg=u),l(c)}(this,o,u,l,r.formatters)):a.apply(c,u),r.transmit){const n=r.transmit.level||e._level,i=t.levels.values[n],a=t.levels.values[o];if(a<i)return;!function(e,r,t){const n=r.send,i=r.ts,o=r.methodLevel,s=r.methodValue,l=r.val,a=e._logEvent.bindings;p(t,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=t.filter((function(e){return-1===a.indexOf(e)})),e._logEvent.level.label=o,e._logEvent.level.value=s,n(o,e._logEvent,l),e._logEvent=g(a)}(this,{ts:l,methodLevel:o,methodValue:a,transmitLevel:n,transmitValue:t.levels.values[r.transmit.level||e._level],send:r.transmit.send,val:s(e._level,t)},u)}};var a}(e,r,t,o);const u=function(e){const r=[];e.bindings&&r.push(e.bindings);let t=e[a];for(;t.parent;)t=t.parent,t.logger.bindings&&r.push(t.logger.bindings);return r.reverse()}(e);0!==u.length&&(e[o]=function(e,r){return function(){return r.apply(this,[...e,...arguments])}}(u,e[o]))}function p(e,r,t,n){for(const i in e)if(n&&e[i]instanceof Error)e[i]=f.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(const n in e[i])r&&r.indexOf(n)>-1&&n in t&&(e[i][n]=t[n](e[i][n]))}function g(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function d(e){const r={type:e.constructor.name,msg:e.message,stack:e.stack};for(const t in e)void 0===r[t]&&(r[t]=e[t]);return r}function v(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?y:_}function b(){return{}}function m(e){return e}function w(){}function y(){return!1}function _(){return Date.now()}f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},f.stdSerializers=o,f.stdTimeFunctions=Object.assign({},{nullTime:y,epochTime:_,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=f,e.exports.pino=f}}]);